running 6 tests from ./src/concepts/QuickCheckIns/QuickCheckInsConcept.test.ts
Principle: A user logs outcomes (check-ins) for metrics, and the concept stores these facts. ...
------- post-test output -------
Defining 'Energy' metric...
Defining 'Mood' metric...
User Alice records Energy check-in at 2023-01-01T10:00:00.000Z...
User Alice records Mood check-in at 2023-01-01T14:00:00.000Z...
Retrieving Alice's check-ins...
----- post-test output end -----
Principle: A user logs outcomes (check-ins) for metrics, and the concept stores these facts. ... ok (717ms)
Action: defineMetric - success and requirements enforcement ...
------- post-test output -------
Attempting to define a new metric 'Sleep Quality'...
Attempting to define 'Sleep Quality' again (should fail)...
----- post-test output end -----
Action: defineMetric - success and requirements enforcement ... ok (588ms)
Action: record - success and requirements enforcement ...
------- post-test output -------
Defining 'Hunger' metric for recording tests...
Recording a valid check-in for 'Hunger'...
Attempting to record with non-existent metric ID 'metric:fake_nonexistent' (should fail)...
----- post-test output end -----
Action: record - success and requirements enforcement ... ok (645ms)
Action: edit - requirements enforcement (non-existent check-in, unauthorized owner, non-existent new metric) ...
------- post-test output -------
Setup: Defining initial and updated metrics...
Attempting to edit non-existent check-in ID 'checkin:fake_missing' (should fail)...
Attempting to edit check-in '0199f374-734c-7460-861b-986379ba79f0' by non-owner Bob (should fail)...
Attempting to update check-in '0199f374-734c-7460-861b-986379ba79f0' metric to non-existent ID 'metric:another_fake_missing' (should fail)...
----- post-test output end -----
Action: edit - requirements enforcement (non-existent check-in, unauthorized owner, non-existent new metric) ... ok (690ms)
Action: edit - effects verification (update value, update metric, update both, no-op) ...
------- post-test output -------
Setup: Defining metrics and initial check-in for edit effects tests...
Updating value of check-in '0199f374-7621-7648-b1d2-76a3205d63d0' to 5...
Updating metric of check-in '0199f374-7621-7648-b1d2-76a3205d63d0' to MetricB...
Updating both metric to MetricA and value to 9 for check-in '0199f374-7621-7648-b1d2-76a3205d63d0'...
Calling edit on check-in '0199f374-7621-7648-b1d2-76a3205d63d0' without any updates (should succeed with no changes)...
----- post-test output end -----
Action: edit - effects verification (update value, update metric, update both, no-op) ... ok (937ms)
Queries: _getCheckIn, _getMetricsByName, _listCheckInsByOwner functionality ...
------- post-test output -------
Querying for check-in '0199f374-79bb-7fb8-b907-30879436b96a'...
Querying for a non-existent check-in...
Querying for metric 'Energy' by name...
Querying for a non-existent metric by name...
Listing check-ins for owner 'user:Alice'...
Listing check-ins for owner 'user:Bob'...
Listing check-ins for owner 'user:Charlie' (no check-ins)...
----- post-test output end -----
Queries: _getCheckIn, _getMetricsByName, _listCheckInsByOwner functionality ... ok
